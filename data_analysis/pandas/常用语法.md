# ğŸ“˜ Pandas å¸¸ç”¨è¯­æ³•

## 1. å¯¼å…¥ä¸åŸºæœ¬ä¿¡æ¯

``` python
import pandas as pd

# è¯»å– CSV æ–‡ä»¶
df = pd.read_csv("data.csv")

# æŸ¥çœ‹å‰å‡ è¡Œï¼ˆé»˜è®¤ 5 è¡Œï¼‰
print(df.head())

# æŸ¥çœ‹åå‡ è¡Œ
print(df.tail(3))

# æŸ¥çœ‹æ•°æ®åŸºæœ¬ä¿¡æ¯ï¼ˆåˆ—åã€éç©ºæ•°ã€æ•°æ®ç±»å‹ç­‰ï¼‰
print(df.info())

# æŸ¥çœ‹æè¿°æ€§ç»Ÿè®¡
print(df.describe())

# æŸ¥çœ‹å½¢çŠ¶ (è¡Œæ•°, åˆ—æ•°)
print(df.shape)

# æŸ¥çœ‹åˆ—å
print(df.columns)

# æŸ¥çœ‹ç´¢å¼•
print(df.index)
```

## 2. DataFrame ä¸ Series åˆ›å»º

``` python
# åˆ›å»º Series
s1 = pd.Series([1, 2, 3, 4], name="numbers")
# è‡ªå®šä¹‰ç´¢å¼•
index = [4, 3, 2, 1]
s2 = pd.Series([1, 2, 3, 4], index=index, name='A')


# åˆ›å»º DataFrame
# é€šè¿‡å­—å…¸
df1 = pd.DataFrame({
    "name": ["Tom", "Jerry", "Spike"],
    "age": [20, 22, 23],
    "score": [90, 85, 88]
})
df2 = pd.DataFrame([{"num": 1, "name": 'pp'}, {"num": 2, "name": 'qq'}])
# é€šè¿‡åˆ—è¡¨
df3 = pd.DataFrame([['Google', 10], ['Runoob', 12], ['Wiki', 13]], 
                   columns=['Site', 'Age'])
```

## 3. æ•°æ®é€‰å–ä¸åˆ‡ç‰‡

``` python
# æŒ‰åˆ—å–å€¼
print(df["name"])
print(df[["name", "age"]])

# æŒ‰è¡Œå–å€¼ (loc æŒ‰æ ‡ç­¾, iloc æŒ‰ä½ç½®)
print(df.loc[0])        # æ ‡ç­¾0æ‰€åœ¨è¡Œ
print(df.iloc[1])       # ç¬¬äºŒè¡Œ

# è¡Œåˆ—åŒæ—¶é€‰æ‹©
print(df.loc[0, "name"])     # æ ‡ç­¾0æ‰€åœ¨è¡Œ, nameåˆ—
print(df.iloc[1, 2])         # ç¬¬äºŒè¡Œ, ç¬¬ä¸‰åˆ—

# åˆ‡ç‰‡
print(df.iloc[0:2])     # å‰ä¸¤è¡Œ
print(df.iloc[0:2,1:3])     # å‰ä¸¤è¡Œ, 2-3åˆ—
```

## 4. å¢åŠ /åˆ é™¤åˆ—

``` python
# æ–°å¢åˆ—
df["city"] = "Shanghai"				# å¢åŠ å¸¸é‡åˆ—
df["passed"] = df["score"] > 85		# æ ¹æ®å…¶ä»–åˆ—, é€»è¾‘è¿ç®—
df["num"] = df["score"] * 85		# æ ¹æ®å…¶ä»–åˆ—, ç®—æœ¯è¿ç®—

# åˆ é™¤åˆ—
df = df.drop(columns=["city"])
```

## 6. ç¼ºå¤±å€¼å¤„ç†

``` python
# æ£€æŸ¥ç¼ºå¤±å€¼
print(df.isnull())
print(np.any(df.isnull())==True)

# åˆ é™¤ç¼ºå¤±å€¼
df = df.dropna()

# å¡«å……ç¼ºå¤±å€¼
df = df.fillna(0)
```

## 7. æ’åº

``` python
# æŒ‰åˆ—æ’åº
df = df.sort_values(by="age", ascending=False)		# æ ¹æ®æŒ‡å®šåˆ—å€¼æ’åº, é»˜è®¤å‡åº
df = df.sort_index(axis=0)							# æ ¹æ®ç´¢å¼•æ’åº
```

## 8. åˆ†ç»„ä¸èšåˆ

``` python
# æŒ‰ Department åˆ†ç»„ï¼Œæ±‚å¹³å‡ Salary
grouped1 = df.groupby('Department')['Salary'].mean()

# å¤šä¸ªèšåˆæ“ä½œ
grouped2 = df.groupby("Department").agg({"age": "max", "Salary": "mean"})
grouped3 = df.groupby('Department').agg({'Salary': ['mean', 'sum']})
```

## 9. åˆå¹¶ä¸æ‹¼æ¥

``` python
# æŒ‰åˆ—æ‹¼æ¥(æ¨ªå‘æ‹¼æ¥)
df1 = pd.DataFrame({'name': ['Alice', 'Bob', 'Charlie'], 'score': [90, 80, 95]})
df2 = pd.DataFrame({'age': [25, 24, 23], 'gender': ['F', 'M', 'M']})
df_concat = pd.concat([df1, df2], axis=1)

# æŒ‰è¡Œæ‹¼æ¥(çºµå‘æ‹¼æ¥)
df1 = pd.DataFrame({'name': ['Alice', 'Bob'], 'score': [90, 80]})
df2 = pd.DataFrame({'name': ['Charlie', 'David'], 'score': [95, 88]})
df_concat = pd.concat([df1, df2], axis=0, ignore_index=True)

# æŒ‰ key åˆå¹¶
df1 = pd.DataFrame({"name": ["Tom", "Jerry"], "gender": ["M", "M"]})
df2 = pd.DataFrame({'name': ['Tom', 'Jerry', 'Charlie'], 'score': [90, 80, 95]})
df_merged = pd.merge(df1, df2, on='name', how='inner')	# å†…è¿æ¥
df_merged = pd.merge(df1, df2, on='name', how='outer')  # å¤–è¿æ¥ï¼ˆå­˜åœ¨å«ç¼ºå¤±å€¼çš„è¡Œï¼‰
```

## 10. æ–‡ä»¶è¯»å†™

``` python
# è¯»å– CSV
df = pd.read_csv("data.csv")

# å†™å…¥ CSV
df.to_csv("out.csv", index=False)

# Excel
df = pd.read_excel("data.xlsx")
df.to_excel("out.xlsx", index=False)
```
